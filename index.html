<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>M√≥n Qu√† Gi√°ng Sinh ƒê·∫∑c Bi·ªát D√†nh Cho Em ‚ù§Ô∏è</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;600&display=swap"
    rel="stylesheet" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
      font-family: "Quicksand", sans-serif;
      overflow: hidden;
      position: relative;
    }

    body::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background:
        radial-gradient(circle at 20% 50%, rgba(255, 107, 157, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(196, 69, 105, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 40% 20%, rgba(102, 126, 234, 0.2) 0%, transparent 50%);
      z-index: 1;
      pointer-events: none;
    }

    @keyframes gradientShift {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }

    /* Three.js Canvas */
    #three-canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 5;
      cursor: pointer;
    }

    /* Particle Canvas */
    #canvas-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 2;
      pointer-events: none;
    }

    /* Loading Screen */
    #loading {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 1.5em;
      z-index: 100;
      text-align: center;
    }

    #loading.hidden {
      display: none;
    }

    .loader {
      width: 50px;
      height: 50px;
      border: 5px solid rgba(255, 255, 255, 0.3);
      border-top: 5px solid #ffd700;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 20px auto;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    .tap-hint {
      position: absolute;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      color: white;
      font-weight: 600;
      font-size: 1.3em;
      text-shadow: 0 0 10px rgba(255, 107, 157, 0.8);
      animation: bounce 1.5s infinite alternate;
      white-space: nowrap;
      background: rgba(255, 255, 255, 0.15);
      padding: 12px 25px;
      border-radius: 30px;
      backdrop-filter: blur(10px);
      z-index: 10;
      opacity: 1;
      transition: opacity 0.5s;
    }

    .tap-hint.hidden {
      opacity: 0;
      pointer-events: none;
    }

    @keyframes bounce {
      from {
        transform: translateX(-50%) translateY(0);
      }

      to {
        transform: translateX(-50%) translateY(15px);
      }
    }

    /* Content Card */
    .content {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      width: 90%;
      max-width: 700px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(25px);
      border-radius: 30px;
      padding: 40px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      text-align: center;
      color: white;
      opacity: 0;
      z-index: 20;
      display: flex;
      flex-direction: column;
      align-items: center;
      box-shadow:
        0 0 60px rgba(255, 107, 157, 0.4),
        inset 0 0 40px rgba(255, 255, 255, 0.1);
    }

    .content.active {
      animation: contentReveal 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
    }

    @keyframes contentReveal {
      to {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }
    }

    .slideshow {
      width: 100%;
      height: 300px;
      border-radius: 20px;
      overflow: hidden;
      margin-bottom: 30px;
      position: relative;
      border: 4px solid rgba(255, 215, 0, 0.6);
      box-shadow:
        0 10px 30px rgba(0, 0, 0, 0.4),
        0 0 40px rgba(255, 107, 157, 0.3);
    }

    .slide-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      transition: opacity 1.5s ease-in-out;
    }

    .slide-img.active {
      opacity: 1;
    }

    h1 {
      font-family: "Dancing Script", cursive;
      font-size: 3.5em;
      margin: 0 0 20px 0;
      background: linear-gradient(135deg, #ff6b9d, #ffd700, #ff6b9d);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: gradientText 3s ease infinite;
      filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.6));
    }

    @keyframes gradientText {

      0%,
      100% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }
    }

    #typewriter {
      font-size: 1.2em;
      line-height: 1.8;
      min-height: 120px;
      text-align: left;
      margin-top: 15px;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      font-weight: 500;
    }

    /* ========== RESPONSIVE DESIGN ========== */

    /* Large Desktop (1920px+) */
    @media (min-width: 1920px) {
      h1 {
        font-size: 4.5em;
      }

      .content {
        max-width: 900px;
        padding: 50px;
      }

      .slideshow {
        height: 400px;
      }

      #typewriter {
        font-size: 1.4em;
      }
    }

    /* Desktop (1200px - 1919px) */
    @media (min-width: 1200px) and (max-width: 1919px) {
      h1 {
        font-size: 3.8em;
      }

      .content {
        max-width: 800px;
      }

      .slideshow {
        height: 350px;
      }
    }

    /* Tablet Landscape (992px - 1199px) */
    @media (min-width: 992px) and (max-width: 1199px) {
      h1 {
        font-size: 3.2em;
      }

      .content {
        max-width: 700px;
        padding: 35px;
      }

      .slideshow {
        height: 300px;
      }

      #typewriter {
        font-size: 1.1em;
      }

      .tap-hint {
        font-size: 1.2em;
        bottom: 70px;
      }
    }

    /* Tablet Portrait (768px - 991px) */
    @media (min-width: 768px) and (max-width: 991px) {
      h1 {
        font-size: 2.8em;
      }

      .content {
        max-width: 600px;
        padding: 30px;
      }

      .slideshow {
        height: 280px;
      }

      #typewriter {
        font-size: 1.05em;
        min-height: 100px;
      }

      .tap-hint {
        font-size: 1.15em;
        bottom: 65px;
        padding: 10px 20px;
      }
    }

    /* Mobile Landscape (576px - 767px) */
    @media (min-width: 576px) and (max-width: 767px) {
      h1 {
        font-size: 2.3em;
      }

      .content {
        width: 95%;
        max-width: 500px;
        padding: 25px;
      }

      .slideshow {
        height: 220px;
      }

      #typewriter {
        font-size: 1em;
        min-height: 90px;
        line-height: 1.6;
      }

      .tap-hint {
        font-size: 1.05em;
        bottom: 55px;
        padding: 8px 18px;
      }
    }

    /* Mobile Portrait (up to 575px) */
    @media (max-width: 575px) {
      h1 {
        font-size: 2em;
        margin-bottom: 15px;
      }

      .content {
        width: 95%;
        padding: 20px;
        border-radius: 20px;
      }

      .slideshow {
        height: 200px;
        border-radius: 15px;
        margin-bottom: 20px;
        border: 3px solid rgba(255, 215, 0, 0.6);
      }

      #typewriter {
        font-size: 0.95em;
        min-height: 80px;
        line-height: 1.5;
        margin-top: 10px;
      }

      .tap-hint {
        font-size: 1em;
        bottom: 50px;
        padding: 8px 16px;
        border-radius: 20px;
        white-space: normal;
        text-align: center;
        max-width: 90%;
      }

      .loader {
        width: 40px;
        height: 40px;
        border-width: 4px;
      }

      #loading {
        font-size: 1.2em;
      }
    }

    /* Extra Small Mobile (up to 375px) */
    @media (max-width: 375px) {
      h1 {
        font-size: 1.8em;
      }

      .content {
        padding: 18px;
      }

      .slideshow {
        height: 180px;
      }

      #typewriter {
        font-size: 0.9em;
        min-height: 70px;
      }

      .tap-hint {
        font-size: 0.95em;
        bottom: 45px;
        padding: 7px 14px;
      }
    }

    /* Landscape Orientation Adjustments */
    @media (max-height: 600px) and (orientation: landscape) {
      .content {
        padding: 15px;
        max-height: 90vh;
        overflow-y: auto;
      }

      .slideshow {
        height: 150px;
      }

      h1 {
        font-size: 1.8em;
        margin-bottom: 10px;
      }

      #typewriter {
        font-size: 0.85em;
        min-height: 60px;
        line-height: 1.4;
      }

      .tap-hint {
        bottom: 30px;
        font-size: 0.9em;
      }
    }

    /* Touch Device Optimizations */
    @media (hover: none) and (pointer: coarse) {
      .tap-hint {
        animation: bounce 1s infinite alternate;
      }

      #three-canvas {
        touch-action: none;
      }

      .content {
        -webkit-overflow-scrolling: touch;
      }
    }
  </style>
</head>

<body>
  <div id="loading">
    <div class="loader"></div>
    <p>ƒêang t·∫£i m√≥n qu√†...</p>
  </div>

  <audio id="bgMusic" loop>
    <source
      src="./music/TOP 10 Nh·∫°c Noel Remix 2026 M·ªõi Nh·∫•t  LK Nh·∫°c Gi√°ng Sinh Hay Remix S√îI ƒê·ªòNG Merry Christmas 2026.mp3"
      type="audio/mp3" />
  </audio>

  <canvas id="canvas-bg"></canvas>
  <canvas id="three-canvas"></canvas>

  <div class="tap-hint" id="tapHint">‚ú® Nh·∫•n v√†o h·ªôp qu√† ƒëi em! ‚ú®</div>

  <div class="content" id="mainContent">
    <div class="slideshow">
      <img src="./images/449323006_3665486810380704_1800683066515112021_n.jpg" class="slide-img active"
        alt="Memory 1" />
      <img src="https://images.unsplash.com/photo-1543258103-a62bdc069871?q=80&w=1000" class="slide-img"
        alt="Memory 2" />
    </div>

    <h1>Merry Christmas! üéÑüíù</h1>

    <div id="typewriter"></div>
  </div>

  <!-- Three.js Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <!-- GSAP Animation Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

  <script>
    const message = `G·ª≠i ng∆∞·ªùi con g√°i anh y√™u nh·∫•t,<br><br>Gi√°ng sinh n√†y, d√π anh kh√¥ng th·ªÉ bi·∫øn ra tuy·∫øt r∆°i th·∫≠t hay th·∫Øp s√°ng c·∫£ b·∫ßu tr·ªùi sao, nh∆∞ng anh mu·ªën g·ª≠i ƒë·∫øn em ƒëi·ªÅu qu√Ω gi√° nh·∫•t - tr√°i tim v√† t√¨nh y√™u tr·ªçn v·∫πn c·ªßa anh.<br><br>Em bi·∫øt kh√¥ng, m·ªói kho·∫£nh kh·∫Øc b√™n em ƒë·ªÅu l√† m√≥n qu√† tuy·ªát v·ªùi nh·∫•t m√† cu·ªôc ƒë·ªùi trao t·∫∑ng anh. N·ª• c∆∞·ªùi c·ªßa em l√† √°nh s√°ng ·∫•m √°p nh·∫•t trong nh·ªØng ng√†y ƒë√¥ng l·∫°nh gi√°. Ti·∫øng c∆∞·ªùi c·ªßa em l√† giai ƒëi·ªáu ng·ªçt ng√†o nh·∫•t m√† anh t·ª´ng ƒë∆∞·ª£c nghe.<br><br>C·∫£m ∆°n em v√¨ ƒë√£ lu√¥n ·ªü b√™n anh, v√¨ ƒë√£ tin t∆∞·ªüng v√† y√™u th∆∞∆°ng anh. Anh h·ª©a s·∫Ω lu√¥n l√† ch·ªó d·ª±a v·ªØng ch·∫Øc, l√† b·ªù vai ·∫•m √°p ƒë·ªÉ em c√≥ th·ªÉ t·ª±a v√†o m·ªói khi m·ªát m·ªèi.<br><br>Ch√∫c em m·ªôt m√πa Gi√°ng sinh tr√†n ng·∫≠p ni·ªÅm vui, h·∫°nh ph√∫c v√† y√™u th∆∞∆°ng. Mong r·∫±ng n·ª• c∆∞·ªùi lu√¥n n·ªü tr√™n m√¥i em, v√† tr√°i tim em lu√¥n tr√†n ƒë·∫ßy ·∫•m √°p.<br><br>Anh y√™u em v√¥ c√πng, t·ª´ h√¥m qua, h√¥m nay v√† m√£i m√£i v·ªÅ sau! üíñüéÑ‚ú®`;
    const speed = 50;

    // ========== THREE.JS 3D GIFT BOX ==========
    let scene, camera, renderer, giftBox, ribbonV, ribbonH, bow;
    let isOpened = false;

    function initThreeJS() {
      const canvas = document.getElementById('three-canvas');
      scene = new THREE.Scene();

      camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);

      // Responsive camera positioning
      if (window.innerWidth <= 375) {
        // Extra small mobile
        camera.position.set(0, 2, 10);
      } else if (window.innerWidth <= 575) {
        // Mobile portrait
        camera.position.set(0, 2, 9);
      } else if (window.innerWidth <= 767) {
        // Mobile landscape
        camera.position.set(0, 2, 8.5);
      } else if (window.innerWidth <= 991) {
        // Tablet portrait
        camera.position.set(0, 2, 8);
      } else if (window.innerWidth <= 1199) {
        // Tablet landscape
        camera.position.set(0, 2, 7.5);
      } else {
        // Desktop
        camera.position.set(0, 2, 8);
      }

      camera.lookAt(0, 0, 0);

      renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.shadowMap.enabled = true;
      renderer.shadowMap.type = THREE.PCFSoftShadowMap;

      // Lights
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
      scene.add(ambientLight);

      const pointLight1 = new THREE.PointLight(0xffd700, 1, 100);
      pointLight1.position.set(5, 5, 5);
      pointLight1.castShadow = true;
      scene.add(pointLight1);

      const pointLight2 = new THREE.PointLight(0xff6b9d, 0.8, 100);
      pointLight2.position.set(-5, 3, -5);
      scene.add(pointLight2);

      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);
      directionalLight.position.set(0, 10, 5);
      directionalLight.castShadow = true;
      scene.add(directionalLight);

      // Gift Box
      const boxGeometry = new THREE.BoxGeometry(2, 2, 2);
      const boxMaterial = new THREE.MeshStandardMaterial({
        color: 0xd63447,
        metalness: 0.3,
        roughness: 0.4
      });
      giftBox = new THREE.Mesh(boxGeometry, boxMaterial);
      giftBox.castShadow = true;
      giftBox.receiveShadow = true;
      scene.add(giftBox);

      // Vertical Ribbon
      const ribbonVGeometry = new THREE.BoxGeometry(0.3, 2.1, 2.1);
      const ribbonMaterial = new THREE.MeshStandardMaterial({
        color: 0xffd700,
        metalness: 0.7,
        roughness: 0.2,
        emissive: 0xffd700,
        emissiveIntensity: 0.2
      });
      ribbonV = new THREE.Mesh(ribbonVGeometry, ribbonMaterial);
      scene.add(ribbonV);

      // Horizontal Ribbon
      const ribbonHGeometry = new THREE.BoxGeometry(2.1, 0.3, 2.1);
      ribbonH = new THREE.Mesh(ribbonHGeometry, ribbonMaterial);
      scene.add(ribbonH);

      // Bow on top
      const bowGroup = new THREE.Group();

      const bowGeometry = new THREE.SphereGeometry(0.3, 32, 32);
      const bowCenter = new THREE.Mesh(bowGeometry, ribbonMaterial);
      bowGroup.add(bowCenter);

      const loopGeometry = new THREE.TorusGeometry(0.25, 0.1, 16, 100);
      const bowLoop1 = new THREE.Mesh(loopGeometry, ribbonMaterial);
      bowLoop1.position.x = -0.3;
      bowLoop1.rotation.y = Math.PI / 4;
      bowGroup.add(bowLoop1);

      const bowLoop2 = new THREE.Mesh(loopGeometry, ribbonMaterial);
      bowLoop2.position.x = 0.3;
      bowLoop2.rotation.y = -Math.PI / 4;
      bowGroup.add(bowLoop2);

      bowGroup.position.y = 1.2;
      bow = bowGroup;
      scene.add(bow);

      // Hide loading screen
      document.getElementById('loading').classList.add('hidden');

      // Start animation
      animate();
    }

    function animate() {
      requestAnimationFrame(animate);

      if (!isOpened) {
        giftBox.rotation.y += 0.005;
        ribbonV.rotation.y += 0.005;
        ribbonH.rotation.y += 0.005;
        bow.rotation.y += 0.005;

        // Floating effect
        const time = Date.now() * 0.001;
        giftBox.position.y = Math.sin(time) * 0.2;
        ribbonV.position.y = Math.sin(time) * 0.2;
        ribbonH.position.y = Math.sin(time) * 0.2;
        bow.position.y = 1.2 + Math.sin(time) * 0.2;
      }

      renderer.render(scene, camera);
    }

    // Click handler
    document.getElementById('three-canvas').addEventListener('click', openGift);

    function openGift() {
      if (isOpened) return;
      isOpened = true;

      document.getElementById('tapHint').classList.add('hidden');

      const music = document.getElementById('bgMusic');
      music.volume = 0.5;
      music.play().catch(() => console.log('Click to play music'));

      // GSAP Animation for opening
      gsap.to(giftBox.position, {
        y: -5,
        duration: 1.5,
        ease: 'power2.in'
      });

      gsap.to(ribbonV.position, {
        y: -5,
        duration: 1.5,
        ease: 'power2.in'
      });

      gsap.to(ribbonH.position, {
        y: -5,
        duration: 1.5,
        ease: 'power2.in'
      });

      gsap.to(bow.position, {
        y: -5,
        duration: 1.5,
        ease: 'power2.in'
      });

      gsap.to(giftBox.rotation, {
        x: Math.PI * 2,
        duration: 1.5,
        ease: 'power2.in'
      });

      // Show content after animation
      setTimeout(() => {
        document.getElementById('mainContent').classList.add('active');
        typeWriter();
        startSlideshow();
      }, 1000);
    }

    // ========== TYPEWRITER EFFECT ==========
    let i = 0;
    function typeWriter() {
      if (i < message.length) {
        const char = message.charAt(i);
        document.getElementById("typewriter").innerHTML +=
          char === "<" ? checkTag() : char;
        if (char !== "<") i++;
        setTimeout(typeWriter, speed);
      }
    }

    function checkTag() {
      let tag = "";
      while (message.charAt(i) !== ">") {
        tag += message.charAt(i);
        i++;
      }
      tag += ">";
      i++;
      return tag;
    }

    // ========== SLIDESHOW ==========
    function startSlideshow() {
      const slides = document.querySelectorAll(".slide-img");
      let currentSlide = 0;

      setInterval(() => {
        slides[currentSlide].classList.remove("active");
        currentSlide = (currentSlide + 1) % slides.length;
        slides[currentSlide].classList.add("active");
      }, 3500);
    }

    // ========== ENHANCED PARTICLE SYSTEM ==========
    const canvas = document.getElementById("canvas-bg");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const particles = [];

    class SnowParticle {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.size = Math.random() * 4 + 1;
        this.speedX = Math.random() * 1 - 0.5;
        this.speedY = Math.random() * 1.5 + 0.5;
        this.opacity = Math.random() * 0.6 + 0.2;
      }
      update() {
        this.y += this.speedY;
        this.x += this.speedX;
        if (this.y > canvas.height) {
          this.y = -10;
          this.x = Math.random() * canvas.width;
        }
        if (this.x > canvas.width) this.x = 0;
        if (this.x < 0) this.x = canvas.width;
      }
      draw() {
        ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    class SparkleParticle {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.size = Math.random() * 2 + 1;
        this.speedX = Math.random() * 0.5 - 0.25;
        this.speedY = Math.random() * 0.5 - 0.25;
        this.opacity = Math.random();
        this.fadeSpeed = Math.random() * 0.02 + 0.01;
        this.growing = Math.random() > 0.5;
      }
      update() {
        this.x += this.speedX;
        this.y += this.speedY;

        if (this.growing) {
          this.opacity += this.fadeSpeed;
          if (this.opacity >= 1) this.growing = false;
        } else {
          this.opacity -= this.fadeSpeed;
          if (this.opacity <= 0) {
            this.growing = true;
            this.x = Math.random() * canvas.width;
            this.y = Math.random() * canvas.height;
          }
        }

        if (this.x > canvas.width) this.x = 0;
        if (this.x < 0) this.x = canvas.width;
        if (this.y > canvas.height) this.y = 0;
        if (this.y < 0) this.y = canvas.height;
      }
      draw() {
        ctx.save();
        ctx.shadowBlur = 10;
        ctx.shadowColor = `rgba(255, 215, 0, ${this.opacity})`;
        ctx.fillStyle = `rgba(255, 215, 0, ${this.opacity})`;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();

        ctx.strokeStyle = `rgba(255, 255, 255, ${this.opacity * 0.5})`;
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(this.x - this.size * 2, this.y);
        ctx.lineTo(this.x + this.size * 2, this.y);
        ctx.moveTo(this.x, this.y - this.size * 2);
        ctx.lineTo(this.x, this.y + this.size * 2);
        ctx.stroke();
        ctx.restore();
      }
    }

    class HeartParticle {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = canvas.height + 20;
        this.size = Math.random() * 15 + 10;
        this.speedY = -(Math.random() * 2 + 1);
        this.speedX = Math.random() * 1 - 0.5;
        this.opacity = Math.random() * 0.4 + 0.2;
        this.rotation = Math.random() * Math.PI * 2;
        this.rotationSpeed = (Math.random() - 0.5) * 0.05;
      }
      update() {
        this.y += this.speedY;
        this.x += this.speedX;
        this.rotation += this.rotationSpeed;
        if (this.y < -50) {
          this.y = canvas.height + 20;
          this.x = Math.random() * canvas.width;
        }
      }
      draw() {
        ctx.save();
        ctx.globalAlpha = this.opacity;
        ctx.fillStyle = '#ff6b9d';
        ctx.translate(this.x, this.y);
        ctx.rotate(this.rotation);

        ctx.beginPath();
        ctx.moveTo(0, this.size / 4);
        ctx.bezierCurveTo(-this.size / 2, -this.size / 4, -this.size, this.size / 8, 0, this.size);
        ctx.bezierCurveTo(this.size, this.size / 8, this.size / 2, -this.size / 4, 0, this.size / 4);
        ctx.fill();
        ctx.restore();
      }
    }

    for (let j = 0; j < 100; j++) particles.push(new SnowParticle());
    for (let j = 0; j < 50; j++) particles.push(new SparkleParticle());
    for (let j = 0; j < 20; j++) particles.push(new HeartParticle());

    function animateBg() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach((p) => {
        p.update();
        p.draw();
      });
      requestAnimationFrame(animateBg);
    }
    animateBg();

    // ========== WINDOW RESIZE ==========
    window.addEventListener("resize", () => {
      // Update canvas sizes
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      // Update Three.js camera and renderer
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);

      // Responsive camera positioning on resize
      if (window.innerWidth <= 375) {
        camera.position.set(0, 2, 10);
      } else if (window.innerWidth <= 575) {
        camera.position.set(0, 2, 9);
      } else if (window.innerWidth <= 767) {
        camera.position.set(0, 2, 8.5);
      } else if (window.innerWidth <= 991) {
        camera.position.set(0, 2, 8);
      } else if (window.innerWidth <= 1199) {
        camera.position.set(0, 2, 7.5);
      } else {
        camera.position.set(0, 2, 8);
      }
      camera.lookAt(0, 0, 0);
    });

    // ========== INITIALIZE ==========
    window.addEventListener('load', () => {
      initThreeJS();
    });
  </script>
</body>

</html>
```